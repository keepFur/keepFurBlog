(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-548d"],{"23ba":function(t,e,a){"use strict";a.d(e,"a",function(){return o}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return s}),a.d(e,"b",function(){return i});a("7f7f");var r=a("66df"),o=function(t){var e=t.name,a=t.type,o=t.userId;return r["a"].request({url:"/api/group/create_group",data:{name:e,type:a,userId:o},method:"post"})},n=function(t){var e=t.limit,a=void 0===e?20:e,o=t.offset,n=void 0===o?1:o,s=t.keyword,i=t.type;return r["a"].request({url:"/api/group/read_group_list",params:{limit:a,offset:n,isSuper:1,keyword:s,type:i},method:"get"})},s=function(t){var e=t.id,a=t.name,o=t.type;return r["a"].request({url:"/api/group/update_group_by_id",method:"post",data:{id:e,name:a,type:o}})},i=function(t,e){return r["a"].request({url:"/api/group/delete_group_by_id",method:"post",data:{id:t,status:e}})}},4917:function(t,e,a){a("214f")("match",1,function(t,e,a){return[function(a){"use strict";var r=t(this),o=void 0==a?void 0:a[e];return void 0!==o?o.call(a,r):new RegExp(a)[e](String(r))},a]})},7514:function(t,e,a){"use strict";var r=a("5ca1"),o=a("0a49")(5),n="find",s=!0;n in[]&&Array(1)[n](function(){s=!1}),r(r.P+r.F*s,"Array",{find:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}}),a("9c6c")(n)},ca61:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Card",[a("Form",{ref:"searchForm",attrs:{model:t.searchForm,inline:""}},[a("FormItem",{attrs:{prop:"user"}},[a("i-input",{staticStyle:{width:"400px"},attrs:{type:"text",clearable:"",placeholder:"输入关键字搜索"},on:{"on-enter":t.searchHandler},model:{value:t.searchForm.keyword,callback:function(e){t.$set(t.searchForm,"keyword",e)},expression:"searchForm.keyword"}})],1),a("FormItem",[a("Button",{attrs:{type:"primary"},on:{click:function(e){t.showCreate=!0}}},[t._v("创建")])],1)],1),a("Table",{attrs:{data:t.tableData,columns:t.columns,stripe:""}})],1),a("Modal",{attrs:{title:"创建"},on:{"on-ok":t.createHandler,"on-cancel":function(e){t.showCreate=!1}},model:{value:t.showCreate,callback:function(e){t.showCreate=e},expression:"showCreate"}},[a("Form",{ref:"createForm",attrs:{model:t.createForm}},[a("FormItem",[a("i-input",{attrs:{type:"text",autofocus:"",clearable:"",placeholder:"输入名称"},model:{value:t.createForm.name,callback:function(e){t.$set(t.createForm,"name",e)},expression:"createForm.name"}})],1),a("FormItem",{attrs:{label:"分组"}},[a("Select",{model:{value:t.createForm.type,callback:function(e){t.$set(t.createForm,"type",e)},expression:"createForm.type"}},[a("Option",{attrs:{value:"1"}},[t._v("博客")]),a("Option",{attrs:{value:"2"}},[t._v("日程")]),a("Option",{attrs:{value:"3"}},[t._v("图片")]),a("Option",{attrs:{value:"4"}},[t._v("音频")]),a("Option",{attrs:{value:"5"}},[t._v("视频")])],1)],1)],1)],1),a("Modal",{attrs:{title:"编辑"},on:{"on-ok":t.updateHandler,"on-cancel":function(e){t.showUpdate=!1}},model:{value:t.showUpdate,callback:function(e){t.showUpdate=e},expression:"showUpdate"}},[a("Form",{ref:"updateForm",attrs:{model:t.updateForm}},[a("FormItem",[a("i-input",{attrs:{type:"text",autofocus:"",clearable:""},model:{value:t.updateForm.name,callback:function(e){t.$set(t.updateForm,"name",e)},expression:"updateForm.name"}})],1),a("FormItem",{attrs:{label:"分组"}},[a("Select",{model:{value:t.updateForm.type,callback:function(e){t.$set(t.updateForm,"type",e)},expression:"updateForm.type"}},[a("Option",{attrs:{value:"1"}},[t._v("博客")]),a("Option",{attrs:{value:"2"}},[t._v("日程")]),a("Option",{attrs:{value:"3"}},[t._v("图片")]),a("Option",{attrs:{value:"4"}},[t._v("音频")]),a("Option",{attrs:{value:"5"}},[t._v("视频")])],1)],1)],1)],1)],1)},o=[],n=(a("7514"),a("4917"),a("7f7f"),a("cadf"),a("551c"),a("097d"),a("23ba")),s=(a("2f62"),{name:"group_list_page",components:{},data:function(){var t=this;return{searchForm:{keyword:""},type:["博客","日程","图片","音频","视频"],createForm:{name:"",type:"1"},updateForm:{type:1,name:""},showCreate:!1,showUpdate:!1,columns:[{title:"名称",key:"name"},{title:"类别",key:"type",render:function(e,a){return e("span",{},t.type[a.row.type-1])}},{title:"日期",key:"createdDate",sortable:!0},{title:"状态",key:"status",render:function(t,e){return t("span",{style:{color:1===e.row.status?"#5cadff":"#ed4014"}},1===e.row.status?"启用":"禁用")}},{title:"操作",key:"actions",width:250,align:"center",render:function(e,a){return e("div",[e("Button",{props:{type:"default",size:"small"},style:{marginRight:"8px"},on:{click:function(){t.showUpdate=!0,t.updateForm.name=a.row.name,t.updateForm.id=a.row.id}}},"编辑"),e("Button",{props:{type:"default",size:"small"},on:{click:function(){t.deleteHandler(a.row.id,1===a.row.status?0:1)}}},1===a.row.status?"禁用":"启用")])}}],tableData:[],tempData:[]}},created:function(){this.readGroupList()},methods:{changePage:function(){},readGroupList:function(){var t=this;Object(n["c"])({limit:20,offset:1,keyword:this.searchForm.keyword,isSuper:1}).then(function(e){0===e.data.ret?(t.tableData=e.data.rows,t.tempData=e.data.rows):t.$Message.success(e.data.msg)}).catch(function(e){t.$Message.success(e.message)})},createHandler:function(){var t=this;Object(n["a"])({name:this.createForm.name,type:this.createForm.type,userId:1}).then(function(e){0===e.data.ret?(t.$Message.success("操作成功"),t.readGroupList()):t.$Message.error(e.data.msg)})},searchHandler:function(){var t=this;this.searchForm.keyword?this.tableData=this.tempData.filter(function(e){return e.name.match(t.searchForm.keyword)}):this.tableData=this.tempData},deleteHandler:function(t,e){this.$Message.success("操作成功");var a=this.tableData.find(function(e){return e.id===t});a.status=e,Object(n["b"])(t,e)},updateHandler:function(){var t=this,e=this.tableData.find(function(e){return e.id===t.updateForm.id});e.type=this.updateForm.type,e.name=this.updateForm.name,this.$Message.success("操作成功"),Object(n["d"])({id:this.updateForm.id,type:this.updateForm.type,name:this.updateForm.name})}}}),i=s,u=a("2877"),c=Object(u["a"])(i,r,o,!1,null,null,null);c.options.__file="group.vue";e["default"]=c.exports}}]);
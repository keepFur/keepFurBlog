(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-280b"],{"0137":function(t,e,a){},"23ba":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"d",function(){return s}),a.d(e,"b",function(){return o});a("7f7f");var r=a("66df"),i=function(t){var e=t.name,a=t.type,i=t.userId;return r["a"].request({url:"/api/group/create_group",data:{name:e,type:a,userId:i},method:"post"})},n=function(t){var e=t.limit,a=void 0===e?20:e,i=t.offset,n=void 0===i?1:i,s=t.keyword,o=t.type;return r["a"].request({url:"/api/group/read_group_list",params:{limit:a,offset:n,isSuper:1,keyword:s,type:o},method:"get"})},s=function(t){var e=t.id,a=t.name,i=t.type;return r["a"].request({url:"/api/group/update_group_by_id",method:"post",data:{id:e,name:a,type:i}})},o=function(t,e){return r["a"].request({url:"/api/group/delete_group_by_id",method:"post",data:{id:t,status:e}})}},"35a5":function(t,e,a){t.exports=a.p+"media/test.9b28a625.6cbcf884.mp3"},"49de":function(t,e,a){"use strict";a.d(e,"a",function(){return i}),a.d(e,"c",function(){return n}),a.d(e,"b",function(){return s});var r=a("66df"),i=function(t){var e=t.file,a=t.groupId,i=t.isSuper,n=void 0===i?1:i,s=t.type,o=t.authorId;return r["a"].request({url:"/api/material/create_material",data:{file:e,authorId:o,isSuper:n,groupId:a,type:s},method:"post"})},n=function(t){var e=t.limit,a=void 0===e?20:e,i=t.offset,n=void 0===i?1:i,s=t.isSuper,o=void 0===s?1:s,c=t.type;return r["a"].request({url:"/api/material/read_material_list",params:{limit:a,offset:n,isSuper:o,type:c},method:"get"})},s=function(t){return r["a"].request({url:"/api/material/delete_material_by_id",method:"post",data:{id:t}})}},"6ded":function(t,e,a){"use strict";var r=a("0137"),i=a.n(r);i.a},8643:function(t,e,a){t.exports=a.p+"img/屏幕快照 2018-09-17 下午6.17.58.b2ae01ff.png"},"874e":function(t,e,a){t.exports=a.p+"img/屏幕快照 2018-09-18 下午4.38.58.174a7662.png"},"8c93":function(t,e,a){t.exports=a.p+"media/test.a82f6686.fd0d2320.mp4"},c09d:function(t,e,a){var r={"./audio/test.9b28a625.mp3":"35a5","./image/屏幕快照 2018-09-17 下午6.17.58.png":"8643","./image/屏幕快照 2018-09-18 下午4.38.58.png":"874e","./video/test.a82f6686.mp4":"8c93"};function i(t){var e=n(t);return a(e)}function n(t){var e=r[t];if(!(e+1)){var a=new Error("Cannot find module '"+t+"'");throw a.code="MODULE_NOT_FOUND",a}return e}i.keys=function(){return Object.keys(r)},i.resolve=n,t.exports=i,i.id="c09d"},f922:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("Tabs",{model:{value:t.materialType,callback:function(e){t.materialType=e},expression:"materialType"}},[a("TabPane",{attrs:{label:"图片",name:"1"}}),a("TabPane",{attrs:{label:"音频",name:"2"}}),a("TabPane",{attrs:{label:"视频",name:"3"}})],1),a("Row",[a("Tabs",[a("TabPane",{attrs:{label:"全部",id:"all"}}),t._l(t.groupList,function(t,e){return a("TabPane",{key:e,attrs:{label:t.name,id:t.id}})})],2)],1),"1"===t.materialType?a("Row",{attrs:{gutter:8}},[t.picture.length?t._e():a("i-col",{attrs:{span:24}},[a("h3",[t._v("无数据")])]),t._l(t.picture,function(e,r){return a("i-col",{key:r,attrs:{span:6}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),a("div",[a("img",{attrs:{src:e.path,width:"100%",alt:""}})]),a("div",{staticClass:"card-action",attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{size:"small",icon:"md-swap",shape:"circle"},on:{click:function(e){t.showSwap=!0}}}),a("Button",{attrs:{size:"small",icon:"ios-trash",shape:"circle"},on:{click:function(a){t.deleteHandler(e.id)}}})],1)])],1)})],2):t._e(),"2"===t.materialType?a("Row",{attrs:{gutter:8}},[t.mp3.length?t._e():a("i-col",{attrs:{span:24}},[a("h3",[t._v("无数据")])]),t._l(t.mp3,function(e,r){return a("i-col",{key:r,attrs:{span:8}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),a("div",{staticStyle:{"text-align":"center"}},[a("audio",{attrs:{src:e.path,controls:"controls"}},[t._v("\n              您的浏览器不支持音频功能，建议更新到新版本。\n            ")])]),a("div",{staticClass:"card-action",attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{size:"small",icon:"md-swap",shape:"circle"},on:{click:function(e){t.showSwap=!0}}}),a("Button",{attrs:{size:"small",icon:"ios-trash",shape:"circle"},on:{click:function(a){t.deleteHandler(e.id)}}})],1)])],1)})],2):t._e(),"3"===t.materialType?a("Row",{attrs:{gutter:8}},[t.video.length?t._e():a("i-col",{attrs:{span:24}},[a("h3",[t._v("无数据")])]),t._l(t.video,function(e,r){return a("i-col",{key:r,attrs:{span:6}},[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[t._v(t._s(e.name))]),a("div",[a("video",{attrs:{src:e.path,controls:"controls",width:"100%",height:"200px"}},[t._v("\n              您的浏览器不支持 video 标签。\n            ")])]),a("div",{staticClass:"card-action",attrs:{slot:"extra"},slot:"extra"},[a("Button",{attrs:{size:"small",icon:"md-swap",shape:"circle"},on:{click:function(a){t.swapClientHandler(e.id)}}}),a("Button",{attrs:{size:"small",icon:"ios-trash",shape:"circle"},on:{click:function(a){t.deleteHandler(e.id)}}})],1)])],1)})],2):t._e(),a("Modal",{attrs:{title:"修改"},on:{"on-ok":t.swapServerHandler,"on-cancel":function(e){t.showSwap=!1}},model:{value:t.showSwap,callback:function(e){t.showSwap=e},expression:"showSwap"}},[a("Form",{attrs:{model:t.materialInfo,"label-width":80}},[a("FormItem",{attrs:{label:"分组"}},[a("Select",{model:{value:t.materialInfo.groupId,callback:function(e){t.$set(t.materialInfo,"groupId",e)},expression:"materialInfo.groupId"}},t._l(t.groupList,function(e,r){return a("Option",{key:r,attrs:{value:e.id}},[t._v(t._s(e.name))])}))],1)],1)],1)],1)},i=[],n=a("a322"),s=(a("cadf"),a("551c"),a("097d"),a("49de")),o=a("23ba"),c={name:"material_list_page",components:{},data:function(){var t;return t={searchForm:{keyword:""},materialInfo:{groupId:""},materialId:"",materialType:"1",groupList:[],mp3:[],picture:[],video:[],showSwap:!1},Object(n["a"])(t,"showSwap",!1),Object(n["a"])(t,"showDelete",!1),t},mounted:function(){this.readMaterialList(),this.readGroupList()},watch:{materialType:function(){this.readMaterialList(),this.readGroupList()}},methods:{readMaterialList:function(){var t=this;Object(s["c"])({type:this.materialType}).then(function(e){if(0===e.data.ret)switch(e=e.data.rows.map(function(t){var e=1===t.type?"image":2===t.type?"audio":"video";return t.path=a("c09d")("./".concat(e,"/").concat(t.path)),t}),t.materialType){case"1":t.picture=e;break;case"2":t.mp3=e;break;case"3":t.video=e;break;default:break}})},readGroupList:function(){var t=this;Object(o["c"])({type:parseInt(this.materialType)+2}).then(function(e){0===e.data.ret&&(t.groupList=e.data.rows)})},createHandler:function(){var t=this;createTodo(this.todoInfo).then(function(e){0===e.data.ret?(t.readTodoList(),t.$Message.success("操作成功"),t.todoInfo={},t.showSwap=!1):t.$Message.error(e.data.msg)})},searchHandler:function(){this.readMaterialList()},deleteHandler:function(t){var e=this;Object(s["b"])(t).then(function(t){0===t.data.ret?(e.$Message.success("操作成功"),e.readMaterialList()):e.$Message.success(t.data.msg)})},swapClientHandler:function(t){this.showSwap=!0,this.materialId=t},swapServerHandler:function(){var t=this;updateTodoById(this.materialId,{groupId:this.materialInfo.groupId}).then(function(e){0===e.data.ret?(t.$Message.success("操作成功"),t.showSwap=!1,t.readMaterialList()):t.$Message.success(e.data.msg)})}}},l=c,u=(a("6ded"),a("2877")),d=Object(u["a"])(l,r,i,!1,null,"35553a34",null);d.options.__file="material_list.vue";e["default"]=d.exports}}]);